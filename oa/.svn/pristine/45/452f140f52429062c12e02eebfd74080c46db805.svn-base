package com.zhizaolian.staff.service.impl;

import org.springframework.beans.factory.annotation.Autowired;

import com.zhizaolian.staff.dao.AppVersionDao;
import com.zhizaolian.staff.entity.AppVersionEntity;
import com.zhizaolian.staff.enums.AppTypeEnum;
import com.zhizaolian.staff.service.AppService;

public class AppServiceImpl implements AppService {
	
	@Autowired
	private AppVersionDao appVersionDao;

	@Override
	public String getLastVersionByType(AppTypeEnum type) {
		if (type == null) {
			throw new RuntimeException("APP类型不合法！");
		}
		
		AppVersionEntity versionEntity = appVersionDao.getLastVersionByType(type.getValue());
		if (versionEntity == null) {
			throw new RuntimeException("版本号不存在！");
		}
		return versionEntity.getVersion();
	}
}
